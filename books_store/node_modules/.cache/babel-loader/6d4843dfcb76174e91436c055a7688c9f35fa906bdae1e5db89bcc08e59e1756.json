{"ast":null,"code":"import _regeneratorRuntime from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Importing necessary dependencies from React\nimport React from\"react\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Functional component for displaying all students\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllStudents=function AllStudents(){// State to manage fetched student data and count of students\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// Array to store student data\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];// Variable to store count of students\nvar navigate=useNavigate('');// Hook to navigate between routes\n// Effect hook to fetch data when component mounts\nuseEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,result,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');// Get token from local storage\n_context.next=3;return fetch(\"\".concat(window.location.origin,\"/students\"),{headers:{\"Authorization\":\"\".concat(token)}});case 3:result=_context.sent;_context.next=6;return result.json();case 6:res=_context.sent;// Redirect to login page if authentication fails\nif(res.error==\"Authentication Failed\"){navigate('/');}setCount(res.count);// Set count of students in state\nsetData(res.data);// Set fetched student data in state\ncase 10:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();// Call fetchData function\n},[]);// Empty array as dependency means effect runs only once on mount\n// Function to navigate to single student details page\nvar SingleStudent=function SingleStudent(id){navigate(\"/student/\".concat(id));// Navigate to student details page with student id\n};// Rendering UI to display all students\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"allstudents\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"th\",{className:\"totalBooks\",colSpan:6,children:[\"Total Students In Library: \",/*#__PURE__*/_jsx(\"span\",{children:count})]})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Books Taken\"}),/*#__PURE__*/_jsx(\"th\",{children:\" More Info / Edit / Delete\"})]}),data.map(function(ele,ind){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ind+1}),/*#__PURE__*/_jsx(\"td\",{children:ele.studentName+\" \"+ele.lastName}),/*#__PURE__*/_jsx(\"td\",{children:ele.year}),/*#__PURE__*/_jsx(\"td\",{children:ele.branch}),/*#__PURE__*/_jsx(\"td\",{children:\"01\"}),/*#__PURE__*/_jsx(\"td\",{className:\"tdbtn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btnblue\",onClick:function onClick(e){return SingleStudent(ele._id);},children:\"More Info. / Edit / Delete\"})})]},ind);})]})});};export default AllStudents;// Exporting the component","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AllStudents","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","count","setCount","navigate","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","result","res","wrap","_callee$","_context","prev","next","localStorage","getItem","fetch","concat","window","location","origin","headers","sent","json","error","stop","SingleStudent","id","className","children","colSpan","map","ele","ind","studentName","lastName","year","branch","onClick","e","_id"],"sources":["/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/src/pages/AllStudents.js"],"sourcesContent":["// Importing necessary dependencies from React\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Functional component for displaying all students\nconst AllStudents = () => {\n  // State to manage fetched student data and count of students\n  const [data, setData] = useState([]); // Array to store student data\n  const [count, setCount] = useState([]); // Variable to store count of students\n  const navigate = useNavigate(''); // Hook to navigate between routes\n\n  // Effect hook to fetch data when component mounts\n  useEffect(() => {\n    async function fetchData() {\n      const token = localStorage.getItem('token'); // Get token from local storage\n      const result = await fetch(`${window.location.origin}/students`, { headers: {\"Authorization\" : `${token}`} });\n      const res = await result.json();\n      // Redirect to login page if authentication fails\n      if(res.error == \"Authentication Failed\"){\n        navigate('/');\n      }\n      setCount(res.count); // Set count of students in state\n      setData(res.data); // Set fetched student data in state\n    }\n\n    fetchData(); // Call fetchData function\n  },[]); // Empty array as dependency means effect runs only once on mount\n\n  // Function to navigate to single student details page\n  const SingleStudent = (id) => {\n    navigate(`/student/${id}`); // Navigate to student details page with student id\n  };\n\n  // Rendering UI to display all students\n  return (\n    <div className=\"allstudents\">\n      <table className=\"table\">\n      <tr>\n          <th className=\"totalBooks\" colSpan={6}>Total Students In Library: <span>{count}</span></th>\n        </tr>\n        <tr>\n          <th>Sr. No.</th>\n          <th>Student Name</th>\n          <th>Year</th>\n          <th>Branch</th>\n          <th>Books Taken</th>\n          <th> More Info / Edit / Delete</th>\n        </tr>\n        {data.map((ele, ind) => {\n          return (\n            <tr key={ind}>\n              <td>{ind + 1}</td>\n              <td>{ele.studentName + \" \" + ele.lastName}</td>\n              <td>{ele.year}</td>\n              <td>{ele.branch}</td>\n              <td>01</td>\n              <td className=\"tdbtn\">\n                <button className=\"btnblue\" onClick={(e) => SingleStudent(ele._id)}>More Info. / Edit / Delete</button>\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n    </div>\n  );\n};\n\nexport default AllStudents; // Exporting the component\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}