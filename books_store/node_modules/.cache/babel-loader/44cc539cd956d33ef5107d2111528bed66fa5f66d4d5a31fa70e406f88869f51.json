{"ast":null,"code":"import _objectSpread from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import\"../App.css\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import logo from\"../images/hand-book-logo-illustration-art-background-43965136.webp\";import{useFormik}from\"formik\";import{logInValidate2}from\"../helper/validate2\";import{Toaster}from\"react-hot-toast\";import toast from\"react-hot-toast\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PasswordReset=function PasswordReset(){// Get id and token from URL params\nvar _useParams=useParams(),id=_useParams.id,token=_useParams.token;// Formik for password reset form\nvar forgetPassformik=useFormik({initialValues:{password:\"\",confirmPassword:\"\"},validate:logInValidate2,// Validation function from helper\nvalidateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Send PUT request to reset password\nfetch(\"\".concat(window.location.origin,\"/login/reset-password/\").concat(id,\"/\").concat(token),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:values.password})});// Clear form values after submission\nforgetPassformik.setValues({password:\"\",confirmPassword:\"\"});// Show success toast message\ntoast(\"Password Updated Successfully...You can LogIn now\");case 3:case\"end\":return _context.stop();}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"homeLogo\",style:{margin:\"5% 5% 0% 5%\"},src:logo,alt:\"library logo\"}),/*#__PURE__*/_jsx(Toaster,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"homeForgetPasswordDiv\",style:{margin:\"15% 5% 0% 5%\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"welcome\",children:\"WELCOME - TO - LIBRARY\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:forgetPassformik.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"textfield\",children:/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},forgetPassformik.getFieldProps(\"password\")),{},{fullWidth:true,label:\"Enter New Password\",id:\"fullWidth\"}))}),/*#__PURE__*/_jsx(\"div\",{className:\"textfield\",children:/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},forgetPassformik.getFieldProps(\"confirmPassword\")),{},{fullWidth:true,label:\"Confirm New Password\",id:\"fullWidth\"}))}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,className:\"btn_In\",variant:\"contained\",children:\"Update Password\"})]})]})]});};export default PasswordReset;","map":{"version":3,"names":["React","TextField","Button","logo","useFormik","logInValidate2","Toaster","toast","useParams","jsx","_jsx","jsxs","_jsxs","PasswordReset","_useParams","id","token","forgetPassformik","initialValues","password","confirmPassword","validate","validateOnBlur","validateOnChange","onSubmit","_onSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","fetch","concat","window","location","origin","method","headers","body","JSON","stringify","setValues","stop","_x","apply","arguments","style","display","children","className","margin","src","alt","handleSubmit","_objectSpread","getFieldProps","fullWidth","label","type","variant"],"sources":["/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/src/pages/PasswordReset.js"],"sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport logo from \"../images/hand-book-logo-illustration-art-background-43965136.webp\";\nimport { useFormik } from \"formik\";\nimport { logInValidate2 } from \"../helper/validate2\";\nimport { Toaster } from \"react-hot-toast\";\nimport toast from \"react-hot-toast\";\nimport { useParams } from \"react-router-dom\";\n\nconst PasswordReset = () => {\n  // Get id and token from URL params\n  const { id, token } = useParams();\n\n  // Formik for password reset form\n  const forgetPassformik = useFormik({\n    initialValues: {\n      password: \"\",\n      confirmPassword: \"\",\n    },\n    validate: logInValidate2, // Validation function from helper\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: async (values) => {\n      // Send PUT request to reset password\n      fetch(`${window.location.origin}/login/reset-password/${id}/${token}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ password: values.password }),\n      });\n      // Clear form values after submission\n      forgetPassformik.setValues({\n        password: \"\",\n        confirmPassword: \"\",\n      });\n      // Show success toast message\n      toast(\"Password Updated Successfully...You can LogIn now\");\n    },\n  });\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      {/* Library logo */}\n      <img\n        className=\"homeLogo\"\n        style={{ margin: \"5% 5% 0% 5%\" }}\n        src={logo}\n        alt=\"library logo\"\n      />\n      {/* Toast component for displaying messages */}\n      <Toaster></Toaster>\n      {/* Password reset form */}\n      <div className=\"homeForgetPasswordDiv\" style={{ margin: \"15% 5% 0% 5%\" }}>\n        <p className=\"welcome\">WELCOME - TO - LIBRARY</p>\n        {/* Form submission */}\n        <form onSubmit={forgetPassformik.handleSubmit}>\n          {/* Input field for new password */}\n          <div className=\"textfield\">\n            <TextField\n              {...forgetPassformik.getFieldProps(\"password\")}\n              fullWidth\n              label=\"Enter New Password\"\n              id=\"fullWidth\"\n            />\n          </div>\n          {/* Input field for confirming new password */}\n          <div className=\"textfield\">\n            <TextField\n              {...forgetPassformik.getFieldProps(\"confirmPassword\")}\n              fullWidth\n              label=\"Confirm New Password\"\n              id=\"fullWidth\"\n            />\n          </div>\n          {/* Button to update password */}\n          <Button\n            type=\"submit\"\n            fullWidth\n            className=\"btn_In\"\n            variant=\"contained\"\n          >\n            Update Password\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PasswordReset;\n"],"mappings":"4eAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,YAAY,CACnB,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,IAAI,KAAM,oEAAoE,CACrF,OAASC,SAAS,KAAQ,QAAQ,CAClC,OAASC,cAAc,KAAQ,qBAAqB,CACpD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B;AACA,IAAAC,UAAA,CAAsBN,SAAS,CAAC,CAAC,CAAzBO,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAEC,KAAK,CAAAF,UAAA,CAALE,KAAK,CAEjB;AACA,GAAM,CAAAC,gBAAgB,CAAGb,SAAS,CAAC,CACjCc,aAAa,CAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACnB,CAAC,CACDC,QAAQ,CAAEhB,cAAc,CAAE;AAC1BiB,cAAc,CAAE,KAAK,CACrBC,gBAAgB,CAAE,KAAK,CACvBC,QAAQ,gBAAAC,SAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOC,MAAM,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACrB;AACAC,KAAK,IAAAC,MAAA,CAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,2BAAAH,MAAA,CAAyBtB,EAAE,MAAAsB,MAAA,CAAIrB,KAAK,EAAI,CACrEyB,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE1B,QAAQ,CAAEW,MAAM,CAACX,QAAS,CAAC,CACpD,CAAC,CAAC,CACF;AACAF,gBAAgB,CAAC6B,SAAS,CAAC,CACzB3B,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACnB,CAAC,CAAC,CACF;AACAb,KAAK,CAAC,mDAAmD,CAAC,CAAC,wBAAA0B,QAAA,CAAAc,IAAA,MAAAlB,OAAA,GAC5D,YAAAL,SAAAwB,EAAA,SAAAvB,SAAA,CAAAwB,KAAA,MAAAC,SAAA,UAAA1B,QAAA,IACH,CAAC,CAAC,CAEF,mBACEZ,KAAA,QAAKuC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAE9B3C,IAAA,QACE4C,SAAS,CAAC,UAAU,CACpBH,KAAK,CAAE,CAAEI,MAAM,CAAE,aAAc,CAAE,CACjCC,GAAG,CAAErD,IAAK,CACVsD,GAAG,CAAC,cAAc,CACnB,CAAC,cAEF/C,IAAA,CAACJ,OAAO,GAAU,CAAC,cAEnBM,KAAA,QAAK0C,SAAS,CAAC,uBAAuB,CAACH,KAAK,CAAE,CAAEI,MAAM,CAAE,cAAe,CAAE,CAAAF,QAAA,eACvE3C,IAAA,MAAG4C,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAC,wBAAsB,CAAG,CAAC,cAEjDzC,KAAA,SAAMY,QAAQ,CAAEP,gBAAgB,CAACyC,YAAa,CAAAL,QAAA,eAE5C3C,IAAA,QAAK4C,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB3C,IAAA,CAACT,SAAS,CAAA0D,aAAA,CAAAA,aAAA,IACJ1C,gBAAgB,CAAC2C,aAAa,CAAC,UAAU,CAAC,MAC9CC,SAAS,MACTC,KAAK,CAAC,oBAAoB,CAC1B/C,EAAE,CAAC,WAAW,EACf,CAAC,CACC,CAAC,cAENL,IAAA,QAAK4C,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB3C,IAAA,CAACT,SAAS,CAAA0D,aAAA,CAAAA,aAAA,IACJ1C,gBAAgB,CAAC2C,aAAa,CAAC,iBAAiB,CAAC,MACrDC,SAAS,MACTC,KAAK,CAAC,sBAAsB,CAC5B/C,EAAE,CAAC,WAAW,EACf,CAAC,CACC,CAAC,cAENL,IAAA,CAACR,MAAM,EACL6D,IAAI,CAAC,QAAQ,CACbF,SAAS,MACTP,SAAS,CAAC,QAAQ,CAClBU,OAAO,CAAC,WAAW,CAAAX,QAAA,CACpB,iBAED,CAAQ,CAAC,EACL,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}