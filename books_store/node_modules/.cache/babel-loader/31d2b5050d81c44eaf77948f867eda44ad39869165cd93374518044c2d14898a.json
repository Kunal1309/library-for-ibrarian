{"ast":null,"code":"import _toConsumableArray from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Importing necessary dependencies from React and Material-UI\nimport React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import logo from\"../images/hand-book-logo-illustration-art-background-43965136.webp\";import TextField from\"@mui/material/TextField\";import logo1 from\"../images/Book_Image.jpeg\";// Importing default book image\nimport Button from\"@mui/material/Button\";import SendIcon from\"@mui/icons-material/Send\";import CloudUploadIcon from\"@mui/icons-material/CloudUpload\";import{styled}from\"@mui/material/styles\";// Functional component to display book details by ID\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookById=function BookById(){// Initializing state variables using useState hook\nvar index=0;// Counter for book copies\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),bookCopies=_useState2[0],setBookCopies=_useState2[1];// State for available book copies\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];// State for fetched book data\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),updateData=_useState6[0],setUpdateData=_useState6[1];// State for updated book data\nvar _useState7=useState(),_useState8=_slicedToArray(_useState7,2),studentId=_useState8[0],setStudentId=_useState8[1];// State for selected student ID\nvar _useParams=useParams(),id=_useParams.id;// Accessing parameter ID from URL\nvar _useState9=useState(\"none\"),_useState10=_slicedToArray(_useState9,2),editForm=_useState10[0],setEditForm=_useState10[1];// State for edit form visibility\nvar _useState11=useState(\"none\"),_useState12=_slicedToArray(_useState11,2),addStudent=_useState12[0],setAddStudent=_useState12[1];// State for add student form visibility\nvar _useState13=useState(\"flex\"),_useState14=_slicedToArray(_useState13,2),displayDetails=_useState14[0],setDisplayDetail=_useState14[1];// State for book details visibility\nvar _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),studentList=_useState16[0],setstudentList=_useState16[1];// State for list of students\nvar _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),studenName=_useState18[0],setStudenName=_useState18[1];// State for student name input\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),allStudents=_useState20[0],setAllStudents=_useState20[1];// State for all students data\nvar navigate=useNavigate();// Hook for navigation\nvar token=localStorage.getItem(\"token\");// Accessing token from local storage\n// State for new data to update book details\nvar _useState21=useState({file:logo,// Default book image\nbookName:\" \",autherName:\" \",edition:\" \",numberCopies:\" \",date:\" \"}),_useState22=_slicedToArray(_useState21,2),newData=_useState22[0],setNewData=_useState22[1];// State for selected student data\nvar _useState23=useState(),_useState24=_slicedToArray(_useState23,2),studentData=_useState24[0],setStudentData=_useState24[1];// Effect hook to fetch book details by ID when component mounts or ID updates\nuseEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(window.location.origin,\"/books/\").concat(id),{headers:{authorization:\"\".concat(token),Accept:\"application/json\",\"Content-Type\":\"application/json\"}});case 2:result=_context.sent;_context.next=5;return result.json();case 5:res=_context.sent;// Redirect to login page if authentication fails\nif(res.error==\"Authentication Failed\"){navigate(\"/\");}setData(res);// Set fetched book data in state\ncase 8:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();// Call fetchData function\n},[id,updateData]);// Dependencies include ID and updated data\n// Effect hook to fetch all students data when component mounts\nuseEffect(function(){function fetchStudents(){return _fetchStudents.apply(this,arguments);}function _fetchStudents(){_fetchStudents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var token,result,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem(\"token\");_context2.next=3;return fetch(\"\".concat(window.location.origin,\"/students\"),{headers:{Authorization:\"\".concat(token)}});case 3:result=_context2.sent;_context2.next=6;return result.json();case 6:res=_context2.sent;// Redirect to login page if authentication fails\nif(res.error==\"Authentication Failed\"){navigate(\"/\");}setAllStudents(res.data);// Set fetched students data in state\ncase 9:case\"end\":return _context2.stop();}},_callee2);}));return _fetchStudents.apply(this,arguments);}fetchStudents();// Call fetchStudents function\n},[]);// Empty array as dependency means effect runs only once on mount\n// Effect hook to update available book copies when book data or index changes\nuseEffect(function(){var result=parseInt(data.numberCopies)-parseInt(index);setBookCopies(parseInt(result));});// Function to toggle edit form visibility and populate data\nvar moduleChange=function moduleChange(){// Set states to control form visibility and populate data\nsetEditForm(\"block\");setAddStudent(\"none\");setDisplayDetail(\"none\");setNewData({bookName:data.bookName,autherName:data.autherName,edition:data.edition,numberCopies:data.numberCopies,date:data.date});};// Function to toggle add student form visibility and populate data\nvar moduleAddStudent=function moduleAddStudent(){// Set states to control form visibility and populate data\nsetAddStudent(\"block\");setEditForm(\"none\");setDisplayDetail(\"none\");setNewData({bookName:data.bookName,autherName:data.autherName,edition:data.edition,numberCopies:data.numberCopies,date:data.date});};// Function to revert to default module visibility\nvar reverseModule=function reverseModule(){// Set states to revert to default module visibility\nsetEditForm(\"none\");setAddStudent(\"none\");setDisplayDetail(\"flex\");};// Function to delete book from library\nfunction DeleteBook(){return _DeleteBook.apply(this,arguments);}// Styled component for visually hidden input\nfunction _DeleteBook(){_DeleteBook=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!window.confirm(\"Are you want it to delete Permanently?\")){_context4.next=3;break;}_context4.next=3;return fetch(\"\".concat(window.location.origin,\"/books/\").concat(id),{method:\"DELETE\",headers:{authorization:\"\".concat(token)}}).then(function(res){res.json();if(res.error==\"Authentication Failed\"){navigate(\"/\");}}).then(function(data){return console.log(data);}).catch(function(error){return console.error(error);});case 3:navigate(\"/allbooks\");// Redirect to all books page after deletion\ncase 4:case\"end\":return _context4.stop();}},_callee4);}));return _DeleteBook.apply(this,arguments);}var VisuallyHiddenInput=styled(\"input\")({clip:\"rect(0 0 0 0)\",clipPath:\"inset(50%)\",height:1,overflow:\"hidden\",position:\"absolute\",bottom:0,left:0,whiteSpace:\"nowrap\",width:1});// Function to handle image upload and update state\nvar handleImage=function handleImage(e){var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onload=function(){setNewData(_objectSpread(_objectSpread({},data),{},{file:reader.result}));};reader.onerror=function(error){console.log(error);};};var name,value;// Function to handle input changes and update state\nvar handleInputs=function handleInputs(e){name=e.target.name;if(name!==\"file\"){value=e.target.value;}setNewData(_objectSpread(_objectSpread({},newData),{},_defineProperty({},name,value)));};// Function to handle student input changes and fetch student list\nvar handleStudentInputs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var result,listofstudent;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:value=e.target.value;setStudenName(value);_context3.next=4;return fetch(\"\".concat(window.location.origin,\"/students/studentList\"),{method:\"POST\",headers:{authorization:\"\".concat(token)},body:JSON.stringify({value:studenName})});case 4:result=_context3.sent;_context3.next=7;return result.json();case 7:listofstudent=_context3.sent;setstudentList(listofstudent);case 9:case\"end\":return _context3.stop();}},_callee3);}));return function handleStudentInputs(_x){return _ref.apply(this,arguments);};}();// Function to handle book update\nvar handleBookUpdate=function handleBookUpdate(e){e.preventDefault();// Validate if all required fields are filled\nif(!newData.bookName||!newData.autherName||!newData.edition||!newData.date||!newData.numberCopies||!newData.file){setNewData(_objectSpread(_objectSpread({},newData),{},{file:logo}));// Set default book image\nreturn alert(\"Send all required field : Book Name, Auther Name, Edition, Date, Number Of Copies, File\");}// Update book details via PATCH request\nfetch(\"\".concat(window.location.origin,\"/books/\").concat(id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",authorization:\"\".concat(token)},body:JSON.stringify(newData)}).then(function(response){return response.json().then(alert(\"Book Updated In Library Successfully!\"));});setEditForm(\"none\");// Hide edit form\nsetDisplayDetail(\"flex\");// Show book details\nsetUpdateData(newData);// Update state with new data\n};// Function to handle click on a student in the list\nvar handleClickOnStudent=function handleClickOnStudent(ele){setStudenName(ele.studentName+\" \"+ele.lastName);// Set student name\nsetStudentId(ele._id);// Set student ID\nsetStudentData({studentImg:ele.studentImg,studentForm:ele.studentForm,studentName:ele.studentName,lastName:ele.lastName,address:ele.address,cell:ele.cell,branch:ele.branch,email:ele.email,year:ele.year,motherName:ele.motherName,fatherName:ele.fatherName,parentCell:ele.parentCell,dateOfJoining:ele.dateOfJoining,books:ele.books?[].concat(_toConsumableArray(ele.books),[{BookName:newData.bookName,AutherName:newData.autherName,edition:newData.edition}]):[{BookName:newData.bookName,AutherName:newData.autherName,edition:newData.edition}]});};// Function to handle student table update\nvar handleStudentUpdate=function handleStudentUpdate(e){e.preventDefault();if(bookCopies<=0){alert(\"No Book Available. All Books Distributed Already!\");}else{var requestOptions={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\",authorization:\"\".concat(token)},body:JSON.stringify(studentData)};fetch(\"\".concat(window.location.origin,\"/students/\").concat(studentId),requestOptions).then(function(response){return response.json().then(alert(\"Student Table Updated In Library Successfully!\"));});}reverseModule();// Revert to default module visibility\n};// Return JSX for rendering UI components\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:editForm},className:\"updateStudent\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",\"margin-bottom\":\"3%\"},children:[/*#__PURE__*/_jsx(Button,{onClick:reverseModule,style:{backgroundColor:\"red\",color:\"blue\",fontWeight:\"700\",padding:\"5px\",\"margin-left\":\"0px\",\"margin-right\":\"5%\",border:\"1px dotted yellow\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Update Book Details !\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"updateImgInfo\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{name:\"bookName\",value:newData.bookName,onChange:handleInputs,fullWidth:true,label:\"Book Name\",id:\"fullWidth\",margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{name:\"autherName\",value:newData.autherName,onChange:handleInputs,fullWidth:true,label:\"Auther Name\",id:\"fullWidth\",margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,name:\"edition\",value:newData.edition,onChange:handleInputs,label:\"Edition\",id:\"fullWidth\",margin:\"normal\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,name:\"numberCopies\",value:newData.numberCopies,onChange:handleInputs,label:\"Total Copies\",id:\"fullWidth\",margin:\"normal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"studentImgBtnDiv\",children:/*#__PURE__*/_jsxs(Button,{onChange:handleImage,component:\"label\",variant:\"contained\",color:\"success\",startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),children:[\"Replace Book Image\",/*#__PURE__*/_jsx(VisuallyHiddenInput,{type:\"file\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"addbookbtn\",children:/*#__PURE__*/_jsx(Button,{onClick:handleBookUpdate,type:\"submit\",fullWidth:true,className:\"btn_In\",variant:\"contained\",size:\"large\",endIcon:/*#__PURE__*/_jsx(SendIcon,{}),children:\"Update Book Details\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"updateStudentImg\",children:/*#__PURE__*/_jsx(\"img\",{src:newData.file?newData.file:logo1,className:\"updateBookImage\",alt:\"form\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:addStudent},className:\"updateStudent\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",\"margin-bottom\":\"3%\"},children:[/*#__PURE__*/_jsx(Button,{onClick:reverseModule,style:{backgroundColor:\"red\",color:\"blue\",fontWeight:\"700\",padding:\"5px\",\"margin-left\":\"0px\",\"margin-right\":\"5%\",border:\"1px dotted yellow\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Student who taking this Book !\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"updateImgInfo\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"form\",{style:{width:\"50%\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"large\",color:\"white\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\"},children:\"Book:- \"}),newData.bookName]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"large\",color:\"white\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\"},children:\"Auther:- \"}),newData.autherName]})]}),/*#__PURE__*/_jsx(TextField,{name:\"StudentName\",value:studenName,onChange:handleStudentInputs,fullWidth:true,label:\"Student Name\",id:\"fullWidth\",margin:\"normal\",style:{marginTop:\"10%\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"addbookbtn\",children:/*#__PURE__*/_jsx(Button,{onClick:handleStudentUpdate,type:\"submit\",fullWidth:true,className:\"btn_In\",variant:\"contained\",size:\"large\",endIcon:/*#__PURE__*/_jsx(SendIcon,{}),children:\"Update Student Table\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"45%\",margin:\"2%\"},children:studentList.map(function(ele,ind){if(ele.lastName.includes(studenName)||ele.studentName.includes(studenName)||ele._id.includes(studenName)){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return handleClickOnStudent(ele);},style:{color:\"black\",display:\"flex\",marginTop:\"5%\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:\"blue\",fontWeight:\"bolder\",marginLeft:\"2%\",marginRight:\"3%\"},children:[ind+1,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Id:-\",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bolder\"},children:ele._id})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name:-\",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bolder\"},children:ele.studentName+\" \"+ele.lastName})]})]})]},ind);}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:displayDetails},className:\"bookbyid\",children:[/*#__PURE__*/_jsx(\"img\",{src:data.file?data.file:logo,alt:\"book Imgage\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bookbyidFlex\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Book Name :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.bookName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Auther Name :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.autherName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edition :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.edition})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Copies :\"}),/*#__PURE__*/_jsx(\"p\",{children:data.numberCopies})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Available Copies :\"}),/*#__PURE__*/_jsx(\"p\",{children:bookCopies})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Books Distribution :\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Given In Below Table\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnBlock\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btnYellow\",onClick:moduleAddStudent,children:\"Add Student\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btngreen\",onClick:moduleChange,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btnred\",onClick:DeleteBook,children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:displayDetails,overflow:\"auto\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Books Taken\"})]}),allStudents.map(function(ele,ind){if(ele.books){return ele.books.map(function(singleBook,ind){if(singleBook.BookName===data.bookName){index++;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index}),/*#__PURE__*/_jsx(\"td\",{children:ele.studentName+\" \"+ele.lastName}),/*#__PURE__*/_jsx(\"td\",{children:ele.year}),/*#__PURE__*/_jsx(\"td\",{children:ele.branch}),/*#__PURE__*/_jsx(\"td\",{children:\"01\"})]},ind);}});}})]})})]});};export default BookById;// Export BookById component","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","logo","TextField","logo1","Button","SendIcon","CloudUploadIcon","styled","jsx","_jsx","jsxs","_jsxs","BookById","index","_useState","_useState2","_slicedToArray","bookCopies","setBookCopies","_useState3","_useState4","data","setData","_useState5","_useState6","updateData","setUpdateData","_useState7","_useState8","studentId","setStudentId","_useParams","id","_useState9","_useState10","editForm","setEditForm","_useState11","_useState12","addStudent","setAddStudent","_useState13","_useState14","displayDetails","setDisplayDetail","_useState15","_useState16","studentList","setstudentList","_useState17","_useState18","studenName","setStudenName","_useState19","_useState20","allStudents","setAllStudents","navigate","token","localStorage","getItem","_useState21","file","bookName","autherName","edition","numberCopies","date","_useState22","newData","setNewData","_useState23","_useState24","studentData","setStudentData","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","res","wrap","_callee$","_context","prev","next","fetch","concat","window","location","origin","headers","authorization","Accept","sent","json","error","stop","fetchStudents","_fetchStudents","_callee2","_callee2$","_context2","Authorization","parseInt","moduleChange","moduleAddStudent","reverseModule","DeleteBook","_DeleteBook","_callee4","_callee4$","_context4","confirm","method","then","console","log","catch","VisuallyHiddenInput","clip","clipPath","height","overflow","position","bottom","left","whiteSpace","width","handleImage","e","reader","FileReader","readAsDataURL","target","files","onload","_objectSpread","onerror","name","value","handleInputs","_defineProperty","handleStudentInputs","_ref","_callee3","listofstudent","_callee3$","_context3","body","JSON","stringify","_x","handleBookUpdate","preventDefault","alert","response","handleClickOnStudent","ele","studentName","lastName","_id","studentImg","studentForm","address","cell","branch","email","year","motherName","fatherName","parentCell","dateOfJoining","books","_toConsumableArray","BookName","AutherName","handleStudentUpdate","requestOptions","children","style","display","className","onClick","backgroundColor","color","fontWeight","padding","border","onChange","fullWidth","label","margin","component","variant","startIcon","type","size","endIcon","src","alt","fontSize","marginTop","map","ind","includes","marginLeft","marginRight","singleBook"],"sources":["/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/src/pages/BookById.js"],"sourcesContent":["// Importing necessary dependencies from React and Material-UI\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport logo from \"../images/hand-book-logo-illustration-art-background-43965136.webp\";\nimport TextField from \"@mui/material/TextField\";\nimport logo1 from \"../images/Book_Image.jpeg\"; // Importing default book image\nimport Button from \"@mui/material/Button\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\nimport { styled } from \"@mui/material/styles\";\n\n// Functional component to display book details by ID\nconst BookById = () => {\n  // Initializing state variables using useState hook\n  let index = 0; // Counter for book copies\n  let [bookCopies, setBookCopies] = useState(0); // State for available book copies\n  const [data, setData] = useState([]); // State for fetched book data\n  const [updateData, setUpdateData] = useState([]); // State for updated book data\n  const [studentId, setStudentId] = useState(); // State for selected student ID\n  const { id } = useParams(); // Accessing parameter ID from URL\n  const [editForm, setEditForm] = useState(\"none\"); // State for edit form visibility\n  const [addStudent, setAddStudent] = useState(\"none\"); // State for add student form visibility\n  const [displayDetails, setDisplayDetail] = useState(\"flex\"); // State for book details visibility\n  const [studentList, setstudentList] = useState([]); // State for list of students\n  const [studenName, setStudenName] = useState(\"\"); // State for student name input\n  const [allStudents, setAllStudents] = useState([]); // State for all students data\n  const navigate = useNavigate(); // Hook for navigation\n  const token = localStorage.getItem(\"token\"); // Accessing token from local storage\n\n  // State for new data to update book details\n  const [newData, setNewData] = useState({\n    file: logo, // Default book image\n    bookName: \" \",\n    autherName: \" \",\n    edition: \" \",\n    numberCopies: \" \",\n    date: \" \",\n  });\n\n  // State for selected student data\n  const [studentData, setStudentData] = useState();\n\n  // Effect hook to fetch book details by ID when component mounts or ID updates\n  useEffect(() => {\n    async function fetchData() {\n      const result = await fetch(`${window.location.origin}/books/${id}`, {\n        headers: {\n          authorization: `${token}`,\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const res = await result.json();\n      // Redirect to login page if authentication fails\n      if (res.error == \"Authentication Failed\") {\n        navigate(\"/\");\n      }\n      setData(res); // Set fetched book data in state\n    }\n\n    fetchData(); // Call fetchData function\n  }, [id, updateData]); // Dependencies include ID and updated data\n\n  // Effect hook to fetch all students data when component mounts\n  useEffect(() => {\n    async function fetchStudents() {\n      const token = localStorage.getItem(\"token\");\n      const result = await fetch(`${window.location.origin}/students`, {\n        headers: { Authorization: `${token}` },\n      });\n      const res = await result.json();\n      // Redirect to login page if authentication fails\n      if (res.error == \"Authentication Failed\") {\n        navigate(\"/\");\n      }\n      setAllStudents(res.data); // Set fetched students data in state\n    }\n    fetchStudents(); // Call fetchStudents function\n  }, []); // Empty array as dependency means effect runs only once on mount\n\n  // Effect hook to update available book copies when book data or index changes\n  useEffect(() => {\n    let result = parseInt(data.numberCopies) - parseInt(index);\n    setBookCopies(parseInt(result));\n  });\n\n  // Function to toggle edit form visibility and populate data\n  const moduleChange = () => {\n    // Set states to control form visibility and populate data\n    setEditForm(\"block\");\n    setAddStudent(\"none\");\n    setDisplayDetail(\"none\");\n    setNewData({\n      bookName: data.bookName,\n      autherName: data.autherName,\n      edition: data.edition,\n      numberCopies: data.numberCopies,\n      date: data.date,\n    });\n  };\n\n  // Function to toggle add student form visibility and populate data\n  const moduleAddStudent = () => {\n    // Set states to control form visibility and populate data\n    setAddStudent(\"block\");\n    setEditForm(\"none\");\n    setDisplayDetail(\"none\");\n    setNewData({\n      bookName: data.bookName,\n      autherName: data.autherName,\n      edition: data.edition,\n      numberCopies: data.numberCopies,\n      date: data.date,\n    });\n  };\n\n  // Function to revert to default module visibility\n  const reverseModule = () => {\n    // Set states to revert to default module visibility\n    setEditForm(\"none\");\n    setAddStudent(\"none\");\n    setDisplayDetail(\"flex\");\n  };\n\n  // Function to delete book from library\n  async function DeleteBook() {\n    // Confirmation before deleting book\n    if (window.confirm(\"Are you want it to delete Permanently?\")) {\n      await fetch(`${window.location.origin}/books/${id}`, {\n        method: \"DELETE\",\n        headers: { authorization: `${token}` },\n      })\n        .then((res) => {\n          res.json();\n          if (res.error == \"Authentication Failed\") {\n            navigate(\"/\");\n          }\n        })\n        .then((data) => console.log(data))\n        .catch((error) => console.error(error));\n    }\n    navigate(\"/allbooks\"); // Redirect to all books page after deletion\n  }\n\n  // Styled component for visually hidden input\n  const VisuallyHiddenInput = styled(\"input\")({\n    clip: \"rect(0 0 0 0)\",\n    clipPath: \"inset(50%)\",\n    height: 1,\n    overflow: \"hidden\",\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    whiteSpace: \"nowrap\",\n    width: 1,\n  });\n\n  // Function to handle image upload and update state\n  const handleImage = (e) => {\n    var reader = new FileReader();\n    reader.readAsDataURL(e.target.files[0]);\n    reader.onload = () => {\n      setNewData({ ...data, file: reader.result });\n    };\n    reader.onerror = (error) => {\n      console.log(error);\n    };\n  };\n\n  let name, value;\n  // Function to handle input changes and update state\n  const handleInputs = (e) => {\n    name = e.target.name;\n    if (name !== \"file\") {\n      value = e.target.value;\n    }\n    setNewData({ ...newData, [name]: value });\n  };\n\n  // Function to handle student input changes and fetch student list\n  const handleStudentInputs = async (e) => {\n    value = e.target.value;\n    setStudenName(value);\n    const result = await fetch(`${window.location.origin}/students/studentList`, {\n      method: \"POST\",\n      headers: { authorization: `${token}` },\n      body: JSON.stringify({\n        value: studenName,\n      }),\n    });\n    const listofstudent = await result.json();\n    setstudentList(listofstudent);\n  };\n\n  // Function to handle book update\n  const handleBookUpdate = (e) => {\n    e.preventDefault();\n\n    // Validate if all required fields are filled\n    if (\n      !newData.bookName ||\n      !newData.autherName ||\n      !newData.edition ||\n      !newData.date ||\n      !newData.numberCopies ||\n      !newData.file\n    ) {\n      setNewData({ ...newData, file: logo }); // Set default book image\n      return alert(\n        \"Send all required field : Book Name, Auther Name, Edition, Date, Number Of Copies, File\"\n      );\n    }\n\n    // Update book details via PATCH request\n    fetch(`${window.location.origin}/books/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `${token}`,\n      },\n      body: JSON.stringify(newData),\n    }).then((response) =>\n      response.json().then(alert(\"Book Updated In Library Successfully!\"))\n    );\n\n    setEditForm(\"none\"); // Hide edit form\n    setDisplayDetail(\"flex\"); // Show book details\n    setUpdateData(newData); // Update state with new data\n  };\n\n  \n  // Function to handle click on a student in the list\n  const handleClickOnStudent = (ele) => {\n    setStudenName(ele.studentName + \" \" + ele.lastName); // Set student name\n    setStudentId(ele._id); // Set student ID\n    setStudentData({\n      studentImg: ele.studentImg,\n      studentForm: ele.studentForm,\n      studentName: ele.studentName,\n      lastName: ele.lastName,\n      address: ele.address,\n      cell: ele.cell,\n      branch: ele.branch,\n      email: ele.email,\n      year: ele.year,\n      motherName: ele.motherName,\n      fatherName: ele.fatherName,\n      parentCell: ele.parentCell,\n      dateOfJoining: ele.dateOfJoining,\n      books: ele.books\n        ? [\n            ...ele.books,\n            {\n              BookName: newData.bookName,\n              AutherName: newData.autherName,\n              edition: newData.edition,\n            },\n          ]\n        : [\n            {\n              BookName: newData.bookName,\n              AutherName: newData.autherName,\n              edition: newData.edition,\n            },\n          ],\n    });\n  };\n\n  // Function to handle student table update\n  const handleStudentUpdate = (e) => {\n    e.preventDefault();\n    if(bookCopies <= 0){\n      alert (\"No Book Available. All Books Distributed Already!\")\n    } else{\n      const requestOptions = {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `${token}`,\n        },\n        body: JSON.stringify(studentData),\n      };\n  \n      fetch(`${window.location.origin}/students/${studentId}`, requestOptions).then(\n        (response) =>\n          response\n            .json()\n            .then(alert(\"Student Table Updated In Library Successfully!\"))\n      );\n    }\n    reverseModule(); // Revert to default module visibility\n  };\n\n  // Return JSX for rendering UI components\n  return (\n    <div>\n      <div style={{ display: editForm }} className=\"updateStudent\">\n        <div style={{ display: \"flex\", \"margin-bottom\": \"3%\" }}>\n          <Button\n            onClick={reverseModule}\n            style={{\n              backgroundColor: \"red\",\n              color: \"blue\",\n              fontWeight: \"700\",\n              padding: \"5px\",\n              \"margin-left\": \"0px\",\n              \"margin-right\": \"5%\",\n              border: \"1px dotted yellow\",\n            }}\n          >\n            Cancel\n          </Button>\n          <h3>Update Book Details !</h3>\n        </div>\n        <div className=\"updateImgInfo\">\n          <form>\n            <TextField\n              name=\"bookName\"\n              value={newData.bookName}\n              onChange={handleInputs}\n              fullWidth\n              label=\"Book Name\"\n              id=\"fullWidth\"\n              margin=\"normal\"\n            />\n            <TextField\n              name=\"autherName\"\n              value={newData.autherName}\n              onChange={handleInputs}\n              fullWidth\n              label=\"Auther Name\"\n              id=\"fullWidth\"\n              margin=\"normal\"\n            />\n            <TextField\n              fullWidth\n              name=\"edition\"\n              value={newData.edition}\n              onChange={handleInputs}\n              label=\"Edition\"\n              id=\"fullWidth\"\n              margin=\"normal\"\n            />\n            <TextField\n              fullWidth\n              name=\"numberCopies\"\n              value={newData.numberCopies}\n              onChange={handleInputs}\n              label=\"Total Copies\"\n              id=\"fullWidth\"\n              margin=\"normal\"\n            />\n            <div className=\"studentImgBtnDiv\">\n              <Button\n                onChange={handleImage}\n                component=\"label\"\n                variant=\"contained\"\n                color=\"success\"\n                startIcon={<CloudUploadIcon />}\n              >\n                Replace Book Image\n                <VisuallyHiddenInput type=\"file\" />\n              </Button>\n            </div>\n            <div className=\"addbookbtn\">\n              <Button\n                onClick={handleBookUpdate}\n                type=\"submit\"\n                fullWidth\n                className=\"btn_In\"\n                variant=\"contained\"\n                size=\"large\"\n                endIcon={<SendIcon />}\n              >\n                Update Book Details\n              </Button>\n            </div>\n          </form>\n          <div className=\"updateStudentImg\">\n            <img\n              src={newData.file ? newData.file : logo1}\n              className=\"updateBookImage\"\n              alt=\"form\"\n            />\n          </div>\n        </div>\n      </div>\n      <div style={{ display: addStudent }} className=\"updateStudent\">\n        <div style={{ display: \"flex\", \"margin-bottom\": \"3%\" }}>\n          <Button\n            onClick={reverseModule}\n            style={{\n              backgroundColor: \"red\",\n              color: \"blue\",\n              fontWeight: \"700\",\n              padding: \"5px\",\n              \"margin-left\": \"0px\",\n              \"margin-right\": \"5%\",\n              border: \"1px dotted yellow\",\n            }}\n          >\n            Cancel\n          </Button>\n          <h3>Add New Student who taking this Book !</h3>\n        </div>\n        <div className=\"updateImgInfo\" style={{ display: \"flex\" }}>\n          <form style={{ width: \"50%\" }}>\n            <div style={{ display: \"flex\" }}>\n              <p style={{ fontSize: \"large\", color: \"white\", width: \"100%\" }}>\n                <span style={{ fontWeight: \"bold\" }}>Book:- </span>\n                {newData.bookName}\n              </p>\n              <p style={{ fontSize: \"large\", color: \"white\", width: \"100%\" }}>\n                <span style={{ fontWeight: \"bold\" }}>Auther:- </span>\n                {newData.autherName}\n              </p>\n            </div>\n            <TextField\n              name=\"StudentName\"\n              value={studenName}\n              onChange={handleStudentInputs}\n              fullWidth\n              label=\"Student Name\"\n              id=\"fullWidth\"\n              margin=\"normal\"\n              style={{ marginTop: \"10%\" }}\n            />\n            <div className=\"addbookbtn\">\n              <Button\n                onClick={handleStudentUpdate}\n                type=\"submit\"\n                fullWidth\n                className=\"btn_In\"\n                variant=\"contained\"\n                size=\"large\"\n                endIcon={<SendIcon />}\n              >\n                Update Student Table\n              </Button>\n            </div>\n          </form>\n          <div style={{ width: \"45%\", margin: \"2%\" }}>\n            {studentList.map((ele, ind) => {\n              if (\n                ele.lastName.includes(studenName) ||\n                ele.studentName.includes(studenName) ||\n                ele._id.includes(studenName)\n              ) {\n                return (\n                  <div\n                    key={ind}\n                    onClick={(e) => handleClickOnStudent(ele)}\n                    style={{ color: \"black\", display: \"flex\", marginTop: \"5%\" }}\n                  >\n                    <p\n                      style={{\n                        color: \"blue\",\n                        fontWeight: \"bolder\",\n                        marginLeft: \"2%\",\n                        marginRight: \"3%\",\n                      }}\n                    >\n                      {ind + 1})\n                    </p>\n                    <div>\n                      <p>\n                        Id:-\n                        <span style={{ fontWeight: \"bolder\" }}>{ele._id}</span>\n                      </p>\n                      <p>\n                        Name:-\n                        <span style={{ fontWeight: \"bolder\" }}>\n                          {ele.studentName + \" \" + ele.lastName}\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n                );\n              }\n            })}\n          </div>\n        </div>\n      </div>\n      <div style={{ display: displayDetails }} className=\"bookbyid\">\n        <img src={data.file ? data.file : logo} alt=\"book Imgage\" />\n        <div className=\"bookbyidFlex\">\n          <div>\n            <h3>Book Name :</h3>\n            <p>{data.bookName}</p>\n          </div>\n          <div>\n            <h3>Auther Name :</h3>\n            <p>{data.autherName}</p>\n          </div>\n          <div>\n            <h3>Edition :</h3>\n            <p>{data.edition}</p>\n          </div>\n          <div>\n            <h3>Total Copies :</h3>\n            <p>{data.numberCopies}</p>\n          </div>\n          <div>\n            <h3>Available Copies :</h3>\n            <p>{bookCopies}</p>\n          </div>\n          <div>\n            <h3>Books Distribution :</h3>\n            <p>Given In Below Table</p>\n          </div>\n        </div>\n        <div className=\"btnBlock\">\n          <button className=\"btnYellow\" onClick={moduleAddStudent}>\n            Add Student\n          </button>\n          <button className=\"btngreen\" onClick={moduleChange}>\n            Edit\n          </button>\n          <button className=\"btnred\" onClick={DeleteBook}>\n            Delete\n          </button>\n        </div>\n      </div>\n\n      <div style={{ display: displayDetails, overflow: \"auto\" }}>\n        <table className=\"table\">\n          <tr>\n            <th>Sr. No.</th>\n            <th>Student Name</th>\n            <th>Year</th>\n            <th>Branch</th>\n            <th>Books Taken</th>\n          </tr>\n            {allStudents.map((ele, ind) => {\n              if (ele.books) {\n                return ele.books.map((singleBook, ind) => {\n                  if (singleBook.BookName === data.bookName) {\n                    index++;\n                    return (\n                      <tr key={ind}>\n                        <td>{index}</td>\n                        <td>\n                          { ele.studentName +\n                            \" \" +\n                            ele.lastName}\n                        </td>\n                        <td>{ele.year}</td>\n                        <td>{ele.branch}</td>\n                        <td>01</td>\n                      </tr>\n                    );\n                  }\n                });\n              }\n            })}\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default BookById; // Export BookById component\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}