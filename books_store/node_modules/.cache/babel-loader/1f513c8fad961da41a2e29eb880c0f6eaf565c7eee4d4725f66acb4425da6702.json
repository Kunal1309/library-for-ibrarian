{"ast":null,"code":"import _regeneratorRuntime from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Importing necessary dependencies from React\nimport React from\"react\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Functional component for displaying all books\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllBooks=function AllBooks(){// State to manage fetched data and count of books\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// Array to store book data\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];// Variable to store count of books\nvar navigate=useNavigate();// Hook to navigate between routes\nvar token=localStorage.getItem('token');// Get token from local storage\n// Effect hook to fetch data when component mounts\nuseEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(window.location.origin,\"/books\"),{headers:{\"Authorization\":\"\".concat(token)}});case 2:result=_context.sent;_context.next=5;return result.json();case 5:res=_context.sent;// Redirect to login page if authentication fails\nif(res.error==\"Authentication Failed\"){navigate('/');}setData(res.data);// Set fetched data in state\nsetCount(res.count);// Set count of books in state\ncase 9:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();// Call fetchData function\n},[]);// Empty array as dependency means effect runs only once on mount\n// Function to navigate to single book details page\nvar SingleBook=function SingleBook(id){navigate(\"/book/\".concat(id));// Navigate to book details page with book id\n};// Rendering UI to display all books\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"allbooks\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"th\",{className:\"totalBooks\",colSpan:6,children:[\"Total Books In Library: \",/*#__PURE__*/_jsx(\"span\",{children:count})]})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Book Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Auther Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Copies\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available Copies\"}),/*#__PURE__*/_jsx(\"th\",{children:\" More Info / Edit / Delete\"})]}),data.map(function(ele,ind){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ind+1}),/*#__PURE__*/_jsx(\"td\",{children:ele.bookName}),/*#__PURE__*/_jsx(\"td\",{children:ele.autherName}),/*#__PURE__*/_jsx(\"td\",{children:ele.numberCopies}),/*#__PURE__*/_jsx(\"td\",{children:ele.numberCopies}),/*#__PURE__*/_jsx(\"td\",{className:\"tdbtn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btnblue\",onClick:function onClick(e){return SingleBook(ele._id);},children:\"More Info. / Edit / Delete\"})})]},ind);})]})});};export default AllBooks;// Exporting the component","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AllBooks","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","count","setCount","navigate","token","localStorage","getItem","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","res","wrap","_callee$","_context","prev","next","fetch","concat","window","location","origin","headers","sent","json","error","stop","SingleBook","id","className","children","colSpan","map","ele","ind","bookName","autherName","numberCopies","onClick","e","_id"],"sources":["/Users/JayBhim-Kunal/Desktop/MERN Projects/BookStore/frontend/books_store/src/pages/AllBooks.js"],"sourcesContent":["// Importing necessary dependencies from React\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Functional component for displaying all books\nconst AllBooks = () => {\n  // State to manage fetched data and count of books\n  const [data, setData] = useState([]); // Array to store book data\n  const [count, setCount] = useState([]); // Variable to store count of books\n  const navigate = useNavigate(); // Hook to navigate between routes\n  const token = localStorage.getItem('token'); // Get token from local storage\n\n  // Effect hook to fetch data when component mounts\n  useEffect(() => {\n    async function fetchData() {\n      const result = await fetch(`${window.location.origin}/books`, { headers: {\"Authorization\" : `${token}`} });\n      const res = await result.json();\n\n      // Redirect to login page if authentication fails\n      if(res.error == \"Authentication Failed\"){\n        navigate('/');\n      }\n      setData(res.data); // Set fetched data in state\n      setCount(res.count); // Set count of books in state\n    }\n\n    fetchData(); // Call fetchData function\n  },[]); // Empty array as dependency means effect runs only once on mount\n\n  // Function to navigate to single book details page\n  const SingleBook = (id) => {\n    navigate(`/book/${id}`); // Navigate to book details page with book id\n  }\n  \n  // Rendering UI to display all books\n  return (\n    <div className=\"allbooks\">\n      <table className=\"table\">\n        <tr>\n          <th className=\"totalBooks\" colSpan={6}>Total Books In Library: <span>{count}</span></th>\n        </tr>\n        <tr>\n          <th>Sr. No.</th>\n          <th>Book Name</th>\n          <th>Auther Name</th>\n          <th>Total Copies</th>\n          <th>Available Copies</th>\n          <th> More Info / Edit / Delete</th>\n        </tr>\n        {data.map((ele, ind) => {\n          return (\n            <tr key={ind}>\n              <td>{ind+1}</td>\n              <td>{ele.bookName}</td>\n              <td>{ele.autherName}</td>\n              <td>{ele.numberCopies}</td>\n              <td>{ele.numberCopies}</td>\n              <td className=\"tdbtn\">\n                <button className=\"btnblue\" onClick={(e) => SingleBook(ele._id)}>More Info. / Edit / Delete</button>\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n    </div>\n  );\n};\n\nexport default AllBooks; // Exporting the component\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}